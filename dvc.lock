schema: '2.0'
stages:
  prepare:
    cmd: "python src/prepare.py data/raw/ogd-smn_puy_h_recent.csv data/raw/ogd-smn_meta_parameters.csv
      data/prepared\n"
    deps:
    - path: data/raw
      hash: md5
      md5: a9391695a206135bb6c4675e76d03070.dir
      size: 1052734
      nfiles: 4
    - path: params.yaml
      hash: md5
      md5: 437b64e6f6bc136dc183fbd83fcbd9f7
      size: 259
    - path: src/prepare.py
      hash: md5
      md5: ba12554f2f28739e160ee9fb8c9d3573
      size: 5983
    params:
      params.yaml:
        prepare:
          separator_train_val: 0.8
    outs:
    - path: data/prepared
      hash: md5
      md5: 95c5fcf4ecc0f933b5e7987f5a412f0b.dir
      size: 212990
      nfiles: 2
  train:
    cmd: "python src/train.py data/prepared/train.parquet data/prepared/test.parquet\n"
    deps:
    - path: data/prepared/test.parquet
      hash: md5
      md5: af18a7f0c0a8b2d65a1961148069ee2d
      size: 58245
    - path: data/prepared/train.parquet
      hash: md5
      md5: 13a0b49b94e02abf5ec17f40fc876ff1
      size: 154745
    - path: params.yaml
      hash: md5
      md5: 437b64e6f6bc136dc183fbd83fcbd9f7
      size: 259
    - path: src/train.py
      hash: md5
      md5: bc9383170ab663ae70802c9af67bc76b
      size: 4949
    - path: src/utils/seed.py
      hash: md5
      md5: 75b1f88de7bb9fe37a970efc4a462d8d
      size: 168
    outs:
    - path: evaluation/plots/train_history.png
      hash: md5
      md5: c62ae5c68b4d4a69d9c68d312312a6df
      size: 43117
    - path: model/air_temperature_regressor.bentomodel
      hash: md5
      md5: 0f1aba7ba8d2bc3a7eb7f330ad607d1c
      size: 7268
  evaluate:
    cmd: "python src/evaluate.py model/air_temperature_regressor.bentomodel data/prepared/test.parquet\n"
    deps:
    - path: data/prepared/test.parquet
      hash: md5
      md5: af18a7f0c0a8b2d65a1961148069ee2d
      size: 58245
    - path: model/air_temperature_regressor.bentomodel
      hash: md5
      md5: 0f1aba7ba8d2bc3a7eb7f330ad607d1c
      size: 7268
    - path: src/evaluate.py
      hash: md5
      md5: 2e62d74aaf647593eb9f7d5ed464f319
      size: 2553
    outs:
    - path: evaluation/metrics.json
      hash: md5
      md5: 2427fd7de24f780dfd362d96214cbca6
      size: 30
    - path: evaluation/plots/prediction_preview.png
      hash: md5
      md5: b0d3777a54c89af51a1ae2892877d752
      size: 116493
